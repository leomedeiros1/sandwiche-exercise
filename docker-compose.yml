services:
    backend:
        build: 
            context: ./server
        # volumes:
        #     - ./:/code
        # environment:
            # - NODE_ENV=production
        ports:
            - "3000:3000"
        # networks:
        #     - public
        # healthcheck: 
        #   test: ["CMD", "curl", "-f", "http://localhost"]
        #   interval: 15s
        #   timeout: 5s
        #   retries: 3
        #   start_period: 10s
    frontend:
        build: 
            context: ./client-app
        # volumes:
        #     - ./:/code
        ports:
            - "4200:4200"
        # networks:
        #     - public
        # depends_on:
        #     - backend

networks:
    public:
    private:
# volumes:
#     db-data:
# secrets:
#     db-password:
#         file: password.txt